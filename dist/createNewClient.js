document.addEventListener("DOMContentLoaded",async()=>{const t=sessionStorage.getItem("formData"),e=t?JSON.parse(t):null;e?await n(e).then(()=>{sessionStorage.clear()}):console.log("No form data found in sessionStorage.")});async function n(t){try{await a(t).then(()=>{console.log("Data sent to DB")}),await s(t).then(()=>{console.log("Data sent to Salesforce")})}catch(e){console.log(e)}}async function a(t){try{const e=await fetch("https://us-central1-transparent-rx.cloudfunctions.net/sendDataToFirebase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Network response was not ok");return await e.json()}catch(e){console.log(e)}}async function s(t){try{const e=await fetch("http://127.0.0.1:5001/transparent-rx/us-central1/addClient",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Network response was not ok");return await e.json()}catch(e){console.log(e)}}
