document.addEventListener("DOMContentLoaded",async()=>{const t=document.querySelector(".loader-s"),e=new URLSearchParams(window.location.search);e.has("uniqueId");const n=e.get("uniqueId");n?await s(n).then(()=>{t.classList.add("hide"),setTimeout(()=>{t.style.display="none"},200)}):r()});async function s(t){try{const e=await fetch("https://us-central1-transparent-rx.cloudfunctions.net/newClient",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uniqueId:t})});if(!e.ok)throw new Error("Network response was not ok");return(await e.json()).message}catch(e){console.log(e)}}async function r(){var n;const t=(n=sessionStorage.getItem("formData"))==null?void 0:n.toString(),e={blocks:[{type:"header",text:{type:"plain_text",text:"ðŸš¨ *Error Occurred* ðŸš¨",emoji:!0}},{type:"section",fields:[{type:"mrkdwn",text:`*Message:*
 Thank you page without uniqueId`}]},{type:"divider"},{type:"section",fields:[{type:"mrkdwn",text:`*Client Data:*
 ${t||"No data"}`}]}]};try{if(!(await fetch("https://us-central1-transparent-rx.cloudfunctions.net/slackErrors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Network response was not ok")}catch(o){console.log(o)}}
